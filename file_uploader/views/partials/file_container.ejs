<div class="file-view-entry">
    <div class="file-view-entry-header">
        <h3 class="file-view-entry-title"><%= file.name %></h3>
        <h6 class="file-view-entry-size-and-type"><%= (file.size / 1024 / 1024).toFixed(3) %>MB (<%= file.fileType %>)</h6>
        <span class="download-file-icon"><%= Object.entries(icons).find(([key]) => file.fileType.includes(key))?.[1] %></span>
        <% if (file.user.username === user.username || file.privacy === 'PUBLIC') { %>
            <div class="file-view-entry-button-space">
                <form class="button-only" action="/files/download/<%= file.id %>" data-id="<%= file.id %>" method="GET">
                    <button class="download-file" type="submit" >📩 Download</button>
                </form>
        <% } %>
        <% if (file.user.username === user.username) { %>
                <form class="button-only" action="/files/delete/<%= file.id %>" data-id="<%= file.id %>" method="GET">
                    <button class="delete-file" type="submit" onclick="return confirm('Are you sure you want to delete this file?');">🗑️ Delete</button>
                </form>
            </div>
        <% } %>
    </div>
    <p class="file-view-entry-date-uploaded"><b>Date uploaded: </b> <%= file.uploaded_at %></p>
    <p class="file-view-entry-folder"><b>File location: </b> <%= file.folder_name %></p>
    <p class="file-view-entry-privacy"><b>File Permission: </b> <%= file.privacy %></p>
    <% if (file.user.username === user.username) { %>
        <!--In controller if file.privacy is PUBLIC make it private for submit in changePrivacy query-->
        <form class="button-only" action="/files/change/<% file.id %>/<%= file.privacy %>" data-id="<%= file.privacy %>" method="GET">
            <button class="delete-file" type="submit" onclick="return confirm('Are you sure you want to change privacy for this file?');">🔄 Change privacy to <% file.privacy === 'PUBLIC' ? 'PRIVATE' : 'PUBLIC' %></button>
        </form>
    <% } %>
</div>